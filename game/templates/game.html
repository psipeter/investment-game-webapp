{% extends "default.html" %}
{% load static %}

{% block title %}
	<title>Investment Game - Game</title>
{% endblock %}

{% block css %}
	<link rel="stylesheet" href="{% static 'game.css' %}">
{% endblock %}

{% block body %}
	<h1 class="top">Game</h1>
	<h3 id="turn" class="top">Turn 1/5</h3>
	<div id="home-link-wrapper" class="top">
		<a class="link" href="{% url 'home' %}">Home</a>
	</div>
	<h2 id="aTotal" class="total left">$0 — Total A</h2>
	<h2 id="bTotal" class="total right">Total B — $0</h2>
	<h2 id="aNow" class="available left">$0 — Available A</h2>
	<h2 id="bNow" class="available right">Available B — $0</h2>
	<h2 id="nameA" class="player left">A</h2>
	<h2 id="nameB" class="player right">B</h2>
	<div id="cash">
		<h2 id="sendA">$0</h2>
		<h2 id="sendB">$0</h2>
	</div>
	<form id="form">
		{% csrf_token %}
		<input type="range" min="0" max="10" value="5" step="1" id="slider">
	</form>
	<input type="submit" id="submit" updateURL="{% url 'updateGame' %}" value="send">
	<div id="loading">
		<div class="lds-ellipsis"><div></div><div></div><div></div><div></div></div>
	</div>

<!-- 	<div class='center'>
		Log
	</div>
 -->
	<h2 id="finalScore">Final Score</h2>
	<h2 id="gameOver">Game Over</h2>
	<a id="home" class="available left" href="{% url 'home' %}">Home</a>
	<h3 id="flair" class="available cen">Isn't This Fun!</h3>
	<a id="play-again" class="available right" href="{% url 'game' %}">Play Again</a>

{% endblock %}

{% block javascript %}
	<script type="text/javascript">
		//pass django variables to external javascript
		let userRole = "{{game.userRole}}";
		let capital = Number("{{game.capital}}");
		let match = Number("{{game.match}}");
		let doneRequired = "{{doneRequired}}";
		let userName = "{{userName}}";
		let agentName = "{{agentName}}";
		let userGives = "{{userGives}}";
		let userKeeps = "{{userKeeps}}";
		let userRewards = "{{userRewards}}";
		let agentGives = "{{agentGives}}";
		let agentKeeps = "{{agentKeeps}}";
		let agentRewards = "{{agentRewards}}";
		// let userA = "{% static 'userA.png' %}";
		// let userB = "{% static 'userB.png' %}";
		// let lockedA = "{% static 'lockedA.png' %}";
		// let lockedB = "{% static 'lockedB.png' %}";
	</script>
	<script src="{% static 'game.js' %}"></script>
{% endblock %}
